!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.JSAlert=e()}}(function(){return function e(t,n,i){function r(s,u){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return r(e,[{key:"when",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this._eventListeners=this._eventListeners||{},this._eventListeners[e]=this._eventListeners[e]||[],n?void this._eventListeners[e].push(n):new Promise(function(n,i){n._removeAfterCall=!0,t._eventListeners[e].push(n)})}},{key:"on",value:function(){return this.when.apply(this,arguments)}},{key:"addEventListener",value:function(){return this.when.apply(this,arguments)}},{key:"emit",value:function(e){for(var t=this._eventListeners&&this._eventListeners[e]||[],n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];var o=!0,s=!1,u=void 0;try{for(var a,l=t[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var c=a.value;c.apply(this,i)}}catch(f){s=!0,u=f}finally{try{!o&&l["return"]&&l["return"]()}finally{if(s)throw u}}for(var d=0;d<t.length;d++)t[d]._removeAfterCall&&t.splice(d--,1)}},{key:"trigger",value:function(){return this.emit.apply(this,arguments)}},{key:"triggerEvent",value:function(){return this.emit.apply(this,arguments)}}]),e}();n["default"]=o,o.mixin=function(e){for(var t in o.prototype)o.prototype.hasOwnProperty(t)&&(e[t]=o.prototype[t])},t.exports=n["default"]},{}],2:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("./queue.js"),l=i(a),c=e("./event-source.js"),f=i(c),d=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.elems={},e.title="",e.text="",e.buttons=[],e.result=!1,e}return s(t,e),u(t,null,[{key:"alert",value:function n(e,i){var r=arguments.length<=2||void 0===arguments[2]?"Close":arguments[2];if("undefined"==typeof window)return Promise.resolve(console.log("Alert: "+e));var n=new t;return n.title=i,n.text=e,n.addButton(r),n.show()}}]),u(t,[{key:"addButton",value:function(e,t){var n=this;return new Promise(function(i,r){n.buttons.push({text:e,type:t||(0==n.buttons.length?"default":"normal"),callback:i})})}},{key:"show",value:function(){var e=this,n=t.popupQueue;return n.add(this).then(function(){e.when("closed").then(function(){n.remove(e)}),e._show()}),this.when("closed")}},{key:"dismiss",value:function(e){this.result=e,this.removeElements(),this.emit("closed",e)}},{key:"_show",value:function(){this.createBackground(),this.createPopup()}},{key:"createBackground",value:function(){var e=this;this.elems.background=document.createElement("div"),this.elems.background.style.cssText="position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; z-index: 10000; background-color: rgba(0, 0, 0, 0.1); opacity: 0; transition: opacity 0.15s; ",document.body.appendChild(this.elems.background),setTimeout(function(){e.elems.background.style.opacity=1})}},{key:"createPopup",value:function(){var e=this;this.elems.container=document.createElement("div"),this.elems.container.style.cssText="position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; z-index: 10001; display: flex; justify-content: center; align-items: center; opacity: 0; transform: translateY(-40px); transition: opacity 0.15s, transform 0.15s; ",document.body.appendChild(this.elems.container),setTimeout(function(){e.elems.container.style.opacity=1,e.elems.container.style.transform="translateY(0px)"}),this.addTouchHandler(this.elems.container,function(){return e.dismiss()}),this.elems.window=document.createElement("div"),this.elems.window.style.cssText="position: relative; background-color: rgba(255, 255, 255, 0.95); box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.25); border-radius: 5px; padding: 10px; min-width: 50px; min-height: 10px; max-width: 50%; max-height: 90%; ",this.elems.container.appendChild(this.elems.window),this.title&&(this.elems.title=document.createElement("div"),this.elems.title.style.cssText="display: block; text-align: center; font-family: Helvetica, Arial; font-size: 17px; font-weight: bold; color: #000; cursor: default; padding: 2px 20px; ",this.elems.title.innerHTML=this.title,this.elems.window.appendChild(this.elems.title)),this.text&&(this.elems.text=document.createElement("div"),this.elems.text.style.cssText="display: block; text-align: center; font-family: Helvetica, Arial; font-size: 15px; font-weight: normal; color: #000; cursor: default; padding: 2px 20px; ",this.elems.text.innerHTML=this.text,this.elems.window.appendChild(this.elems.text))}},{key:"removeElements",value:function(){var e=this;this.elems.background.style.opacity=0,this.elems.container.style.opacity=0,this.elems.container.style.transform="translateY(40px)",setTimeout(function(){e.removeElement(e.elems.background),e.removeElement(e.elems.container)},250)}},{key:"removeElement",value:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"addTouchHandler",value:function(e,t){var n=function(n){n.preventDefault(),n.target==e&&t()};this.elems.container.addEventListener("mousedown",n,!0),this.elems.container.addEventListener("touchstart",n,!0)}}]),t}(f["default"]);n["default"]=d,d.popupQueue=new l["default"],d.toastQueue=new l["default"],d.Queue=l["default"],d.EventSource=f["default"],t.exports=n["default"]},{"./event-source.js":1,"./queue.js":3}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("./event-source.js"),l=i(a),c=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.items=[],e.current=null,e}return s(t,e),u(t,[{key:"add",value:function(e){var t=this;return new Promise(function(n,i){t.items.push({item:e,activateHandler:n}),t.emit("added",e),t.checkActivated()})}},{key:"checkActivated",value:function(){if(!this.current){if(0==this.items.length)return void this.emit("empty");this.current=this.items[0],this.current.activateHandler&&this.current.activateHandler(this.current.item),this.emit("activated",this.current.item)}}},{key:"remove",value:function(e){for(var t=0;t<this.items.length;t++)this.items[t].item==e&&this.items.splice(t--,1);this.emit("removed",e),this.current&&this.current.item==e&&(this.current=null),this.checkActivated()}}]),t}(l["default"]);n["default"]=c,t.exports=n["default"]},{"./event-source.js":1}]},{},[2])(2)});
//# sourceMappingURL=jsalert.min.js.map
